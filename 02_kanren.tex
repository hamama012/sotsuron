\chapter{先行研究と利用技術}
本章では，本研究における先行研究を述べる．

\section{概要}
林らは，バーチャルペットと比較して実体を有するペットロボットの方がセラピー効果が高いと考え，ふれあいによる心理・生理的なストレスの緩和効果の差異を比較・検証を行った．

検証に使用するペットロボットは，林らが開発した柔らかい触感を有するセラピーロボット「ちょぼにゃん」である．頭部に配置された接触を検知するセンサ部，人工筋肉でできた尻尾に位置する感情表出部，感情表出部を制御する制御部から構成されている．
バーチャルペットは「ちょぼにゃん」を模した3DCGキャラクタの「ちょじにゃん」が林らにより開発され，実験に用いられた．「ちょじにゃん」はユーザの接触動作をペットロボットに出来る限り近付けるために，Leap Motionを用いる．Leap Motionとは、画像解析を用いて３D空間で手のトラッキングを可能としたNUI向け入力機器である。これによりトラッキングされた手の位置は仮想ハンドとして画面上に反映され，ちょじにゃんへの頭を撫でる，叩くといったユーザの接触を検知できる．

\begin{figure}[H]
\centering
\begin{tabular}{c}

\begin{minipage}{0.50\hsize}
\includegraphics*[width=8.5cm,clip]{images/先行研究1.eps}
\caption{ちょぼにゃんの外観}
\label{fig:system1}
\end{minipage}

\begin{minipage}{0.50\hsize}
\centering
\includegraphics*[width=8.5cm,clip]{images/先行研究2.eps}
\caption{ちょじにゃんの外観}
\label{fig:system2}
\end{minipage}

\end{tabular}
\end{figure} 

ペットロボット，バーチャルペット共にユーザが頭を撫でた時は尻尾を左右に振り喜びを表現を，ユーザが頭を叩いた時には尻尾を垂れ下げ悲しみ表現を表出するといった二種類の反応行動を行う．
\newpage

\begin{figure}[H]
\centering
\includegraphics*[width=8.5cm,clip]{images/先行研究3.eps}
\caption{ちょぼにゃん及びちょじにゃんの反応行動}
\label{fig:system3}
\end{figure} 

バーチャルペットとペットロボットのセラピー効果を比較するため，心理的，生理的の二面からストレス緩和効果の比較検証実験を行った．
心理効果の評価実験では，まず実験参加者にストレスを与えるために，被験者に計算課題を2分間行った．計算課題終了後，POMSと呼ばれる気分プロフィール検査を実施した．
質問用紙を回収後にペットロボット，もしくはバーチャルペットと2分間自由にふれあってもらい，再度POMS検査を行った．最後に，ふれあったペットの印象の評価としてSD尺度法を用いて回答を求めた．
実験の結果，ペットロボットとバーチャルペットともに心理的なストレス緩和効果があることが分かった．
特にペットロボットはバーチャルペットと比較して有意な変化が認められた尺度が多く，特に緊張の緩和効果と活気の尺度において高い効果を示した．
親密性ではペットロボットの方で高い値が確認されたが，力本性と信頼性においてはバーチャルペットの方が高い．以上より，ペットロボットとバーチャルペットが与える印象の性質に差があると記述している．

生理的効果の評価実験では，心理的効果測定と同様にまず計算課題を実施する．その後，MindWave Mobileを用いて被験者の安静閉眼時の脳の状態を1分間計測した．MindWave Mobileとは，国際10-20法のFp1領域の脳波を計測可能な簡易脳波計である．
次に，ペットロボット，もしくはバーチャルペットと2分間ふれあってもらい，その後再度被験者の安静閉眼時の脳状態を１分間計測した．
実験の結果，ペットロボットにはα波の含有率の増加，β波の減少が確認された．α波はリラックスしている時に，β波は精神的に緊張しているときに多く出現するとされている．一方バーチャルペットには，α派，β波共に変化が殆ど確認できなかった．
このことから，ペットロボットは生理的なストレス緩和効果を持つが，バーチャルペットは持たないということが分かった．

以上二つの評価実験の結果から，生理的，心理的どちらの側面においてもペットロボットの方が高いストレス緩和効果を得ることができた．検証した全ての比較結果を表\ref{table:cal}に示す．

\begin{table}[H]
\centering
\label{table:cal}
\includegraphics[width=8cm]{images/先行研究6.eps}
\caption{ペットロボットとバーチャルペットの比較}
\end{table}

多くの項目でバーチャルペットよりもペットロボットが優れており、セラピー効果の項目においては全てペットロボットの方が高い効果を示したことが分かる。このような結果になった要因として，林らは「接触フィードバック」「現実感」という二点のキーワードをあげている．
まず，接触フィードバックとはユーザの接触に対するペットからのフィードバックのことである．ペットロボットは現実に存在しているために，接触すれば感触がそのまま返ってくる．しかしながら，バーチャルペットは実在しないために感触が返ってくることがない．実験参加者の９割が，自身の手が接触しているのかどうか分かりづらく，戸惑ったと答えている．林らは接触フィードバックは身体性が持つ特性の一つであると記述している．
次に現実感について，実験に使用されたバーチャルペットはタブレット上に表示された３DCGキャラクタであり，このことから実験参加者の８割がゲームで遊んでいるような感覚だったと答えた．一方ペットロボットとのふれあいにおいては，実験参加者の７割が動物と接している感覚に近く，親しみやすかったと答えた．現実感についても身体性が持つ特性の一つであると記述している．

\section{問題点}
林らはペットロボットと比較して，バーチャルペットは身体性を有さないためにセラピー効果が低いとしている．
しかしながら，バーチャルペットにおいても利用技術によって身体性を付与することは可能であると考える．
本研究では，HMDを用いて仮想空間を出力し疑似的な現実感をユーザに与えると共に，コントローラの振動を利用して接触フィードバックを実装した身体性を有するバーチャルペットの開発を行う．

\section{利用技術}

本研究で利用する技術について述べる．

\subsection{Unity}

Unityとは，ユニティ・テクノロジーズが開発した総合開発環境を内蔵するゲームエンジンである．
モバイル，VR,AR,デスクトップ，コンソール，Webと数多くのプラットホームに対応しており，その柔軟性は極めて高い．簡易なものであればプログラミングを行わずとも３Dステージの構築や物理エンジンの導入が可能である．また３Dだけでなく，２D描画にも対応している．
更に，アセットストアと呼ばれるショップで他のユーザが作成したプログラムや３DCGモデル，テクスチャといったデータがアセットという形で提供されており，プロジェクトに直接インポートして使用することができる．
３Ｄ空間の作成が容易であることから，本研究ではUnityを使用する．

\begin{figure}[H]
\centering
\includegraphics*[width=16cm,clip]{images/sc4.eps}
\caption{Unityの開発画面}
\label{fig:unity}
\end{figure}

\subsection{HTC Vive\cite{htc}}

HTC Viveとは，HTCとValve Corporationの共同で開発されたバーチャルリアリティ向けヘッドマウントディスプレイである．
部屋の二箇所にベースステーションを設置することで，最小1.5m×2m，最大3m×4mの範囲でユーザの動きをリアルタイムにトラッキング，仮想現実に反映できる．VR専用に設計されたコントローラが付属しており，直感的な操作とジェスチャーを実現可能．
本研究では現実感を高めるためにHTC Viveを，接触フィードバックの実装にコントローラを使用する．

\begin{figure}[H]
\centering
\begin{tabular}{c}

\begin{minipage}{0.50\hsize}
\includegraphics*[width=7.8cm,clip]{images/technology01.eps}
\caption{HTC Vive\cite{htc}}
\label{fig:htc}
\end{minipage}

\begin{minipage}{0.50\hsize}
\includegraphics*[width=7.8cm,clip]{images/technology02.eps}
\caption{コントローラ\cite{htc}}
\label{fig:controller}
\end{minipage}

\end{tabular}
\end{figure} 

\subsection{Maya}

Mayaはオートデスク社によって開発されたハイエンド３次元コンピュータグラフィックスソフトウェアである．
ハリウッドをはじめとした映画からゲーム，CMの制作に使用されている．映画のVFX市場で圧倒的なシェアを誇り，ゲーム市場においてもMayaと同じく３次元コンピュータグラフィックスソフトウェアである3ds Maxと50％50％であるとオートデスク社は述べている．
本研究で使用したペット及びユーザの手のアバターはMayaを用いて作成した．

\begin{figure}[H]
\centering
\includegraphics*[width=16cm,clip]{images/sc3.eps}
\caption{Mayaの制作画面}
\label{fig:maya}
\end{figure}

\subsection{Visual Studio}

Visual StudioはMicrosoft社が開発した統合開発環境である．C＃，Visual Basic，Pythonといった８種類のプログラム言語に対応している．また，WindowsだけでなくiOSやLinuxなどのOSにも対応可能である．
UnityにはMonoDevelopという統合開発環境が標準で備わっているが，Visual Studioがこのスクリプトエディタよりも高機能であることから，本研究ではVisual Studioを利用する．